= PlantUML

== Idea

- Stereotypes are used as labels, e.g. `\<<Type>>`
- The stereotypes may contain a modifier `+` indicating a label that shall be added
- The description of a stereotype may contain attribute:value pairs for matching

== Rules

[[plantuml-rule:ComponentDiagramAdoc]]
[plantuml,role=concept]
.The root package contains the components `A`, `B` and `C` with defined dependencies.
----
@startuml
skinparam componentStyle uml2

[Root {name:"root"}] as root <<Package>> <<+Root>>
[A {name:"a"}] as a <<Package>> <<+Module>>
[B {name:"b"}] as b <<Package>> <<+Module>>
[C {name:"c"}] as c <<Package>> <<+Module>>

root -up-> a : Contains
root -up-> b : Contains
root -up-> c : Contains

b -> a : +Defines Dependency
c -> a : +Defines Dependency

@enduml
----

The example above will be translated into a cypher query like this:

[source,cypher]
----
MATCH
  (n1:Package{name:"root"}),
  (n2:Package{name:"a"}),
  (n3:Package{name:"b"}),
  (n4:Package{name:"c"}),
  (n1)-[:CONTAINS]->(n2),
  (n1)-[:CONTAINS]->(n3),
  (n1)-[:CONTAINS]->(n4)
SET
  n1:Root
SET
  n2:Module
SET
  n3:Module
SET
  n4:Module
MERGE
  (n3)-[r1:DEFINES_DEPENDENCY]->(n2),
  (n4)-[r2:DEFINES_DEPENDENCY]->(n2)
RETURN
  n1, n2, n3, n4, r1, r2
----

[[plantuml-rule:ClassDiagramAdoc]]
[plantuml,role=concept]
.A class diagram
----
@startuml

skinparam componentStyle uml2

class "AbstractEntity \n {name:"AbstractEntity"}" as abstractEntity <<Type>>
class "Entity" as entity <<Class>> <<+Entity>>

abstractEntity <|-- entity : Extends*

@enduml
----
